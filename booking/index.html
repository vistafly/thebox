<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book the Band</title>

  <!-- Google Places API -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFfAO2wxU8NcFmhJL63Kmw8mVQVdOgBRA&libraries=places" async defer></script>

  <!-- Styles -->
  <link rel="stylesheet" href="css/booking.css">
</head>
<body>
  <div class="booking-container">
    <!-- Header -->
    <header class="booking-header">
      <h1>Book Us for Your Event</h1>
      <p>Select your preferred date, time, and tell us about your event</p>
    </header>

    <!-- Progress Steps -->
    <div class="progress-steps" id="progressSteps">
      <div class="step active" data-step="1">
        <span class="step-number">1</span>
        <span class="step-label">Date & Time</span>
      </div>
      <div class="step-divider"></div>
      <div class="step" data-step="2">
        <span class="step-number">2</span>
        <span class="step-label">Event Details</span>
      </div>
    </div>

    <!-- Booking Form -->
    <form id="bookingForm" class="booking-form">
      <!-- Step 1: Date/Time Selection -->
      <div class="form-step active" id="step1">
        <div class="step-content">
          <!-- Month Navigation -->
          <div class="calendar-header">
            <button type="button" class="month-nav-btn" id="prevMonth" disabled>
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>

            <div class="month-selector">
              <button type="button" id="currentMonthBtn" class="current-month-btn">
                <span id="currentMonthLabel">Loading...</span>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
              <div class="month-dropdown hidden" id="monthDropdown"></div>
            </div>

            <button type="button" class="month-nav-btn" id="nextMonth">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>

          <!-- Calendar Grid -->
          <div class="calendar-grid">
            <div class="calendar-weekdays">
              <div class="weekday">Sun</div>
              <div class="weekday">Mon</div>
              <div class="weekday">Tue</div>
              <div class="weekday">Wed</div>
              <div class="weekday">Thu</div>
              <div class="weekday">Fri</div>
              <div class="weekday">Sat</div>
            </div>
            <div class="calendar-days" id="calendarDays">
              <!-- Generated by JavaScript -->
            </div>
          </div>

          <!-- Duration Selection -->
          <div class="duration-section hidden" id="durationSection">
            <label class="section-label">Select Duration</label>
            <div class="duration-grid" id="durationGrid">
              <button type="button" class="duration-btn" data-duration="2">2 Hours</button>
              <button type="button" class="duration-btn" data-duration="3">3 Hours</button>
              <button type="button" class="duration-btn" data-duration="4">4 Hours</button>
              <button type="button" class="duration-btn" data-duration="6">6 Hours</button>
              <button type="button" class="duration-btn" data-duration="8">Full Day (8hrs)</button>
            </div>
          </div>

          <!-- Time Slot Selection -->
          <div class="timeslot-section hidden" id="timeslotSection">
            <label class="section-label">Select Time</label>
            <div class="timeslot-loading hidden" id="timeslotLoading">
              <div class="spinner"></div>
              <p>Loading available times...</p>
            </div>
            <div class="timeslot-grid" id="timeslotGrid">
              <!-- Generated by JavaScript -->
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-primary" id="continueToDetails" disabled>
              Continue to Event Details
            </button>
          </div>
        </div>
      </div>

      <!-- Step 2: Event Details -->
      <div class="form-step" id="step2">
        <div class="step-content">
          <div class="form-grid">
            <!-- Event Type -->
            <div class="form-group full-width">
              <label for="eventType">Event Type *</label>
              <select id="eventType" name="eventType" class="form-input" required>
                <option value="">Select event type</option>
                <option value="Wedding">Wedding</option>
                <option value="Corporate Event">Corporate Event</option>
                <option value="Private Party">Private Party</option>
                <option value="Festival">Festival</option>
                <option value="Bar/Club">Bar/Club</option>
                <option value="Restaurant">Restaurant</option>
                <option value="Birthday Party">Birthday Party</option>
                <option value="Anniversary">Anniversary</option>
                <option value="Other">Other</option>
              </select>
              <span class="error-message"></span>
            </div>

            <!-- Contact Name -->
            <div class="form-group">
              <label for="contactName">Contact Name *</label>
              <input type="text" id="contactName" name="contactName" class="form-input" placeholder="John Doe" required>
              <span class="error-message"></span>
            </div>

            <!-- Phone -->
            <div class="form-group">
              <label for="contactPhone">Phone Number *</label>
              <input type="tel" id="contactPhone" name="contactPhone" class="form-input" placeholder="(555) 123-4567" required>
              <span class="error-message"></span>
            </div>

            <!-- Email -->
            <div class="form-group full-width">
              <label for="contactEmail">Email Address *</label>
              <input type="email" id="contactEmail" name="contactEmail" class="form-input" placeholder="john@example.com" required>
              <span class="error-message"></span>
            </div>

            <!-- Venue Name -->
            <div class="form-group full-width">
              <label for="venueName">Venue Name *</label>
              <input type="text" id="venueName" name="venueName" class="form-input" placeholder="Grand Ballroom" required>
              <span class="error-message"></span>
            </div>

            <!-- Venue Address (Google Places) -->
            <div class="form-group full-width">
              <label for="venueAddress">Venue Address *</label>
              <input type="text" id="venueAddress" name="venueAddress" class="form-input" placeholder="123 Main St, City, State ZIP" required>
              <span class="error-message"></span>
            </div>

            <!-- Expected Attendance -->
            <div class="form-group">
              <label for="expectedAttendance">Expected Attendance</label>
              <input type="number" id="expectedAttendance" name="expectedAttendance" class="form-input" placeholder="100" min="1">
            </div>

            <!-- Budget Range -->
            <div class="form-group">
              <label for="budgetRange">Budget Range</label>
              <select id="budgetRange" name="budgetRange" class="form-input">
                <option value="">Select budget range</option>
                <option value="Under $1,000">Under $1,000</option>
                <option value="$1,000 - $2,500">$1,000 - $2,500</option>
                <option value="$2,500 - $5,000">$2,500 - $5,000</option>
                <option value="$5,000+">$5,000+</option>
                <option value="Prefer to discuss">Prefer to discuss</option>
              </select>
            </div>

            <!-- Sound System -->
            <div class="form-group">
              <label for="soundSystem">Sound System at Venue?</label>
              <select id="soundSystem" name="soundSystem" class="form-input">
                <option value="Unknown">Unknown</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>

            <!-- Stage Size -->
            <div class="form-group">
              <label for="stageSize">Stage Size (if known)</label>
              <input type="text" id="stageSize" name="stageSize" class="form-input" placeholder="e.g., 20ft x 15ft">
            </div>

            <!-- Event Description -->
            <div class="form-group full-width">
              <label for="eventDescription">Event Description *</label>
              <textarea id="eventDescription" name="eventDescription" class="form-input" rows="4" placeholder="Tell us about your event, music preferences, atmosphere, special requests, etc. (minimum 20 characters)" required></textarea>
              <span class="error-message"></span>
            </div>

            <!-- Referral Source -->
            <div class="form-group full-width">
              <label for="referralSource">How did you hear about us?</label>
              <select id="referralSource" name="referralSource" class="form-input">
                <option value="">Select source</option>
                <option value="Google Search">Google Search</option>
                <option value="Instagram">Instagram</option>
                <option value="Facebook">Facebook</option>
                <option value="Friend/Family Referral">Friend/Family Referral</option>
                <option value="Venue Recommendation">Venue Recommendation</option>
                <option value="Saw you perform">Saw you perform</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-secondary" id="backToDateTime">
              Back to Date & Time
            </button>
            <button type="submit" class="btn btn-primary" id="submitBooking">
              <span class="btn-text">Submit Booking Request</span>
              <span class="btn-loading hidden">
                <div class="spinner-small"></div>
                Submitting...
              </span>
            </button>
          </div>
        </div>
      </div>

      <!-- Success State -->
      <div class="success-state hidden" id="successState">
        <div class="success-content">
          <div class="success-icon">
            <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="32" cy="32" r="32" fill="#10B981"/>
              <path d="M20 32L28 40L44 24" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h2>Booking Request Submitted!</h2>
          <p class="success-message">
            We've received your booking request for <strong id="successEventType"></strong> on
            <strong id="successDate"></strong> at <strong id="successTime"></strong>.
          </p>
          <p class="success-note">
            We'll review your request and get back to you within 24 hours to confirm availability and discuss details.
          </p>
          <div class="success-actions">
            <button type="button" class="btn btn-primary" id="newBooking">
              Book Another Event
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- Scripts -->
  <script type="module" src="js/booking.js"></script>
</body>
</html>
